<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand">
      <img src="assets/Green.png" class="logo-img" alt="GreenLink Logo">
    </a>

    <div class="collapse navbar-collapse">
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" routerLink="/front">Home</a></li>
        <li class="nav-item"><a class="nav-link" routerLink="/about_ua">About us</a></li>
        <li class="nav-item"><a class="nav-link" routerLink="/research">Research</a></li>
        <li class="nav-item"><a class="nav-link" routerLink="/Contact us">Contact us</a></li>
      </ul>

      <button class="btn btn-primary ms-auto" (click)="logout()">Logout</button>
    </div>
  </div>
</nav>

<div class="grid-container">

  <!-- ================= LEFT PROFILE ================= -->
  <div class="section one">
    <div class="profile-content">
      <div class="profile-icon">
        <span class="material-icons">person</span>
      </div>

      <div class="profile-text">
        <h3>{{ logged }}</h3>
        <p>{{ eeemail }}</p>
      </div>
    </div>

    <div class="profile-description">
      <p><strong>Contact:</strong> {{ phoneno }}</p>
      <button class="btn btn-danger" routerLink="/restaurent">List</button>
    </div>
  </div>

  <!-- ================= REQUESTS TABLE ================= -->
  <div class="section two">
    <h2 class="text-center mb-4">Requests Received</h2>

    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <th>Waste ID</th>
          <th>Recycler Name</th>
          <th>Recycler Info</th>
          <th>Status</th>
          <th style="width: 200px;">Action</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let request of requests">

          <td>{{ request.wasteId }}</td>
          <td>{{ request.recyclerName }}</td>

          <!-- TOOLTIP -->
          <td>
            <button
              mat-icon-button
              [matTooltip]="tooltips[request.wasteId] || 'Hover to load'"
              matTooltipPosition="right"
              (mouseenter)="loadTTooltip(request)">
              <mat-icon>info</mat-icon>
            </button>
          </td>

          <!-- STATUS -->
          <td>
            <span *ngIf="request.status === 'pending'" class="badge bg-warning text-dark">
              Pending
            </span>

            <span *ngIf="request.status === 'accepted'" class="badge bg-success">
              Accepted
            </span>

            <span *ngIf="request.status === 'rejected'" class="badge bg-danger">
              Rejected
            </span>
          </td>

          <!-- ACTIONS -->
          <td>
            <button
              class="btn btn-success me-2"
              (click)="accept(request)"
              [disabled]="request.status !== 'pending'">
              ✓ Accept
            </button>

            <button
              class="btn btn-danger"
              (click)="reject(request)"
              [disabled]="request.status !== 'pending'">
              ✕ Reject
            </button>
          </td>
        </tr>

        <!-- EMPTY -->
        <tr *ngIf="requests.length === 0">
          <td colspan="5" class="text-center text-muted">
            No requests received yet
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
